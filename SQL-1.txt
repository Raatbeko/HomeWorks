--task1
select v.full_name as visitors ,t.full_name as trainer,time_of_visits from visits
join visitors v on v.id = visitors_id 
join trainer t on t.id = trainer_id
order by time_of_visits desc ;


--task2
create table univer(
id  serial primary key,
full_name  varchar(200) not null 
);

create table facultet(
id serial primary key,
full_name varchar (100) not null,
id_univer int references univer (id)
);

create table group_in_facul(
id serial primary key,
id_facul int references facultet (id),
code_of_group int not null
);

create table student(
id serial primary key,
full_name varchar(100) not null,
group_id int references group_in_facul (id),
data_of_birth int not null
);

create table subject(
id serial primary key,
name_of_subj varchar(50) not null
);

create table grade(
student_id int references student (id),
grade int ,
subject_id int references subject (id)
);

select s.full_name,avg(g.grade) from grade g
join student s on s.id = g.student_id ;

select s.full_name,g.code_of_group ,f.full_name ,u.full_name from student s
join group_in_facul g on g.id = s.grade 
join facultet f on f.id = g.id_facul 
join univer u on u.id = f.id_univer 